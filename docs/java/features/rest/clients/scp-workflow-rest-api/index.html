<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.54">


<title data-react-helmet="true">Consume the SAP Cloud Platform Workflow REST API | SAP Cloud SDK</title>

<meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Consume the SAP Cloud Platform Workflow REST API | SAP Cloud SDK"><meta data-react-helmet="true" name="description" content="This article describes how you can consume the SCP Workflow REST API with the SAP Cloud SDK"><meta data-react-helmet="true" property="og:description" content="This article describes how you can consume the SCP Workflow REST API with the SAP Cloud SDK"><meta data-react-helmet="true" name="keywords" content="sap,cloud,sdk,rest,scp,workflow"><meta data-react-helmet="true" property="og:url" content="https://github.com/SAP/cloud-sdk/cloud-sdk/docs/java/features/rest/clients/scp-workflow-rest-api">

<link data-react-helmet="true" rel="shortcut icon" href="/cloud-sdk/img/favicon.ico">


<link rel="stylesheet" href="/cloud-sdk/styles.f7db5d1d.css">


<link rel="preload" href="/cloud-sdk/styles.2d3fbfee.js" as="script">

<link rel="preload" href="/cloud-sdk/runtime~main.31ee4a81.js" as="script">

<link rel="preload" href="/cloud-sdk/main.5d4cec0c.js" as="script">

<link rel="preload" href="/cloud-sdk/1.4a41b36e.js" as="script">

<link rel="preload" href="/cloud-sdk/2.9bf1e20f.js" as="script">

<link rel="preload" href="/cloud-sdk/3.fdc4f96b.js" as="script">

<link rel="preload" href="/cloud-sdk/1be78505.f403b653.js" as="script">

<link rel="preload" href="/cloud-sdk/06bd7c86.fd6166a3.js" as="script">

<link rel="preload" href="/cloud-sdk/17896441.00dc624f.js" as="script">

<link rel="preload" href="/cloud-sdk/425d755a.ed3cbb08.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/cloud-sdk/"><img class="navbar__logo" src="/cloud-sdk/img/logo.svg" alt="SAP Cloud SDK"><strong class="navbar__title">SAP Cloud SDK</strong></a><a class="navbar__item navbar__link" href="/cloud-sdk/docs/overview/about">Docs</a><a target="_blank" rel="noopener noreferrer" href="https://blogs.sap.com/" class="navbar__item navbar__link">Blog</a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a activeclassname="navbar__link--active" class="navbar__item navbar__link">Support</a><ul class="dropdown__menu"><li><a target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/questions/tagged/sap-cloud-sdk" class="dropdown__link">Stack Overflow</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/SAP/cloud-sdk/issues" class="dropdown__link">GitHub JS/TS</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.wdf.sap.corp/MA/sdk" class="dropdown__link"> GitHub Java</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a activeclassname="navbar__link--active" class="navbar__item navbar__link">Release notes</a><ul class="dropdown__menu"><li><a target="_blank" rel="noopener noreferrer" href="https://help.sap.com/doc/6c02295dfa8f47cf9c08a19f2e172901/1.0/en-US/index.html" class="dropdown__link">Java SDK</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://help.sap.com/doc/2324e9c3b28748a4ae2ad08166d77675/1.0/en-US/js-index.html" class="dropdown__link">JS SDK</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/SAP/cloud-s4-sdk-pipeline/releases" class="dropdown__link">CI/CD Toolkit</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a target="_blank" rel="noopener noreferrer" href="https://api.sap.com/" class="navbar__item navbar__link">SAP API Hub</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/SAP/cloud-sdk" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/cloud-sdk/"><img class="navbar__logo" src="/cloud-sdk/img/logo.svg" alt="SAP Cloud SDK"><strong class="navbar__title">SAP Cloud SDK</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" position="left" href="/cloud-sdk/docs/overview/about">Docs</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://blogs.sap.com/" class="menu__link" position="left">Blog</a></li><li class="menu__list-item"><a activeclassname="navbar__link--active" class="menu__link menu__link--sublist" position="left">Support</a><ul class="menu__list"><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/questions/tagged/sap-cloud-sdk" class="menu__link">Stack Overflow</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/SAP/cloud-sdk/issues" class="menu__link">GitHub JS/TS</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.wdf.sap.corp/MA/sdk" class="menu__link"> GitHub Java</a></li></ul></li><li class="menu__list-item"><a activeclassname="navbar__link--active" class="menu__link menu__link--sublist" position="left">Release notes</a><ul class="menu__list"><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://help.sap.com/doc/6c02295dfa8f47cf9c08a19f2e172901/1.0/en-US/index.html" class="menu__link">Java SDK</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://help.sap.com/doc/2324e9c3b28748a4ae2ad08166d77675/1.0/en-US/js-index.html" class="menu__link">JS SDK</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/SAP/cloud-s4-sdk-pipeline/releases" class="menu__link">CI/CD Toolkit</a></li></ul></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://api.sap.com/" class="menu__link" position="right">SAP API Hub</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/SAP/cloud-sdk" class="menu__link" position="right">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Overview</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/overview/about">About</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/overview/getting-started">Getting started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/overview/benefits">Benefits</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Java</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/java/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/java/getting-started">Getting started</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Core Features</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">OData</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/features/odata/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/features/odata/java-generate-odata-vmd-v2-v4">Generate a VDM for OData</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/features/odata/use-generated-odata-vdm-v2-v4">Consume OData Services</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Connectivity</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/features/connectivity/sdk-connectivity-destination-service">Destinations</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">REST</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/java/features/rest/overview">overview</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Released clients</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" tabindex="0" href="/cloud-sdk/docs/java/features/rest/clients/scp-workflow-rest-api">Consume SCP Workflow</a></li></ul></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Tips &amp; Tricks</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/tips-and-tricks/change-log-level">Increase log level</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/guides/sap-cloud-sdk-linux-how-to">SAP Cloud SDK on Linux</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/guides/cf-cli">Cloud Foundry CLI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/guides/cf-deploy">Deploy to Cloud Foundry</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/guides/logging-overview">Logging Overview</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/java/api-reference-java">JavaDoc API Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/java/frequently-asked-questions">FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">JavaScript</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/js/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/js/getting-started">Getting started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/js/api-reference-js-ts">JSDoc API reference</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Continuous Delivery</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/devops/getting-started">Getting started</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Community calls</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/community-calls/community-calls-2020">2020</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Related projects</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/related-projects/cloud-application-model">CAP (Cloud Application Model)</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Consume the SAP Cloud Platform Workflow REST API</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="goal-of-this-documentation"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#goal-of-this-documentation" title="Direct link to heading">#</a>Goal of this Documentation</h2><p>In the following we cover the SAP Cloud SDK Java client library (Beta) for the SCP Workflow REST API. After a brief introduction in the SCP Workflow service, we explain in detail how the developer can use this client library. Thereby we touch in particular upon all necessary configuration steps and the app development.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="how-scp-workflow-and-cloud-sdk-play-together"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#how-scp-workflow-and-cloud-sdk-play-together" title="Direct link to heading">#</a>How SCP Workflow and Cloud SDK play together</h2><p>The <a href="https://help.sap.com/viewer/product/WORKFLOW_SERVICE/Cloud/en-US">SAP Cloud Platform (SCP) Workflow service</a> is available on the Cloud Foundry environment <a href="https://blogs.sap.com/2019/04/03/workflow-and-business-rules-now-available-in-cloud-foundry-environment-of-sap-cloud-platform/">since April 2019</a>. It helps you build, run and manage workflows to model processes that span from simple approval steps to complex business scenarios with several involved parties.</p><p>Imagine a business scenario with multiple involved parties, complex validation logic, and parallel execution flows. SCP Workflow service solves exactly this problem. By integrating this service into your application via its REST API you get a seamless solution for this problem.</p><p>Refer to <a href="https://blogs.sap.com/2018/01/09/sap-cloud-platform-workflow-developer-center/">this blog post</a> for an overview of all resources in the realm of the SCP Workflow Service.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="an-example-use-case"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#an-example-use-case" title="Direct link to heading">#</a>An Example Use Case</h2><p>Let us sketch an example use case to gain better understanding when we would want to use this client library.</p><p>Imagine a use case comprising a business scenario with multiple involved parties, complex validation logic and parallel execution flows. These requirements can be met with the SCP Workflow service. It allows to model the workflows in a visual editor. In addition, you develop a cloud application leveraging the SAP Cloud SDK that covers the main part of the business logic and orchestrates the workflow processing in the background. For this purpose, your app communicates with the SCP Workflow service through its REST API. To make your life easier when it comes to developing against the REST API, you utilize the respective client library.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="consume-the-scp-workflow-rest-api"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#consume-the-scp-workflow-rest-api" title="Direct link to heading">#</a>Consume the SCP Workflow REST API</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="application-use-case"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#application-use-case" title="Direct link to heading">#</a>Application Use Case</h3><p>As described earlier, we have an existing SAP Cloud SDK-based Java app and we want to invoke the SCP Workflow REST API in our business logic. More specifically, we are interested in retrieving a list of all workflow definitions that exist in the connected SCP Workflow service instance. That requirement corresponds to the API endpoint <code>/v1/workflow-definitions</code> which you find under the section <code>Workflow Definitions</code> on the left-hand side.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="configuration-steps"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#configuration-steps" title="Direct link to heading">#</a>Configuration Steps</h3><p>There are some configuration steps on Cloud Foundry necessary to run this scenario. Let&#x27;s look at each of them in detail.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="bind-app-to-scp-workflow-service-instance"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#bind-app-to-scp-workflow-service-instance" title="Direct link to heading">#</a>Bind App to SCP Workflow Service Instance</h4><p>Refer to the documentation on <a href="https://help.sap.com/viewer/e157c391253b4ecd93647bf232d18a83/Cloud/en-US/e8d88dd056f14c75af59e68d6b20345f.html">help.sap.com</a> for the full picture. We will outline the essential pieces in the following. Also we assume that you are sure about:</p><ul><li>Which Cloud Foundry subaccount and space you want to use,</li><li>That the entitlement for the SCP Workflow Service is in place,</li><li>That you possess all necessary authorizations on Cloud Foundry to perform the following procedures and that</li><li>You have installed the Cloud Foundry Command Line Interface (CLI) on your machine.</li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="identify-necessary-oauth-scopes"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#identify-necessary-oauth-scopes" title="Direct link to heading">#</a>Identify necessary OAuth Scopes</h5><p>The REST API is protected and requires authenticating with an OAuth 2.0 access token. Each particular API endpoint requires the calling REST client to provide an access token valid for the respective endpoint. That is, the token must be issued for the respective OAuth scope that corresponds to the desired API endpoint.</p><p>Let us figure out which OAuth scope is relevant for our application use case. We see on the <a href="https://api.sap.com/api/SAP_CP_Workflow_CF/resource">API documentation</a> that the endpoint <code>/v1/workflow-definitions</code> is assigned to the scope <code>WORKFLOW_DEFINITION_GET</code>.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="create-service-instance-json-configuration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#create-service-instance-json-configuration" title="Direct link to heading">#</a>Create Service Instance JSON Configuration</h5><p>Open a text editor of your choice and save a JSON file on your system with the following content:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-json codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;authorities&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;WORKFLOW_DEFINITION_GET&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><p>Remember where you&#x27;ve saved the file, you&#x27;ll need it later.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="create-service-instance"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#create-service-instance" title="Direct link to heading">#</a>Create Service Instance</h5><p>Open the command line and authenticate at your Cloud Foundry organization by invoking <code>cf login</code>.</p><p>Consider specifying the respective subaccount, organization and space with <code>cf target</code> if necessary.</p><p>Use <code>cd</code> to navigate to the directory that contains the JSON file created beforehand.
Being in that directory, create the service instance as follows:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">cf create-service workflow standard my-workflow-service -c </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">path-to-json-file</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></div></div></div></div></div><p>This command creates an instance of the SCP Workflow Service in the CF space that your CLI points to. More specifically, it uses the service plan &quot;standard&quot; and takes the JSON configuration into account. Note that we named the service instance <code>my-workflow</code>. You can name it as you want, it is just important to remember the name as you need it in your deployment descriptor <code>manifest.yml</code> later on.</p><p>Once the service instance creation is finished, you can see the service instance in your CF space under <code>Services</code> and <code>Service Instances</code> in the left-hand side menu.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="bind-your-app-to-service-instance"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#bind-your-app-to-service-instance" title="Direct link to heading">#</a>Bind your App to Service Instance</h5><p>Open the file <code>manifest.yml</code> in your project and mention your service instance under <code>services</code>. Refer to this example:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-yaml codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token key atrule">applications</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> awesome</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">app</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">memory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 1024M</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">timeout</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">600</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">random-route</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> application/target/awesome</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">app</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">application.war</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">buildpacks</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> sap_java_buildpack</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">env</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">TARGET_RUNTIME</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> tomee7</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">SET_LOGGING_LEVEL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;{ROOT: INFO, com.sap.cloud.sdk: INFO}&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">JBP_CONFIG_SAPJVM_MEMORY_SIZES</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> metaspace</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">128m..</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">services</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> my</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">destination</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> my</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">workflow</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">routes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">route</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> &lt;omitted</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">on</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">purpose</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></div></div></div></div><p>Redeploy your app with <code>cf push</code>.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="take-note-of-api-endpoint-and-oauth-credentials"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#take-note-of-api-endpoint-and-oauth-credentials" title="Direct link to heading">#</a>Take Note of API endpoint and OAuth Credentials</h5><p>After the deployment of the app happened, go to your CF space and navigate to <code>Services</code> and thereafter to <code>Service Instances</code>. You should see the service instance you created along with the information that is is bound to your application.</p><p>Click on the service instance name, for instance <code>my-workflow</code>, in the upcoming screen you should see the headline <code>Service Instance: my-workflow - Referencing Apps</code>. Make sure that the entry belong to your app is selected in the table below, given that multiple apps are bound to the same service instance.</p><p>Consider the JSON content below the table. For your convenience we recommend copying that JSON to a text editor. Here is one example for your reference:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-json codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;endpoints&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;workflow_odata_url&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;foo&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;workflow_rest_url&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bar&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;html5-apps-repo&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;app_host_id&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;foo&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;uaa&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;uaadomain&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bar&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;tenantmode&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;dedicated&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;sburl&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bar&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;clientid&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;foo&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;verificationkey&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bar&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;apiurl&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;foo&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;xsappname&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bar&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;identityzone&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;foo&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;identityzoneid&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bar&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;clientsecret&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;foo&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;tenantid&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bar&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;url&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;foo&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;sap.cloud.service&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;com.sap.bpm.workflow&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;saasregistryappname&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;workflow&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;content_endpoint&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;foo&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><p>At next, carefully look at the JSON content and collect the values for the following JSON keys:</p><ul><li><code>workflow_rest_url</code></li><li><code>url</code></li><li><code>clientid</code></li><li><code>clientsecret</code></li></ul><p>You&#x27;ll need the values in the next step.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="maintain-http-destination"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#maintain-http-destination" title="Direct link to heading">#</a>Maintain HTTP Destination</h4><p>Go to your CF subaccount, navigate to <code>Connectivity</code> and <code>Destinations</code> in the left-hand side menu and create a new HTTP destination with the following properties:</p><ul><li>Name: Workflow-Api</li><li>Type: HTTP</li><li>URL: The value of <code>workflow_rest_url</code></li><li>Proxy Type: Internet</li><li>Authentication: OAuth2ClientCredentials</li><li>Client ID: The value of <code>clientid</code></li><li>Client Secret: The value of <code>clientsecret</code></li><li>Token Service URL: The value of <code>url</code> appended by <code>/oauth/token?grant_type=client_credentials</code></li></ul><p>Restart your app thereafter.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="develop-your-app"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#develop-your-app" title="Direct link to heading">#</a>Develop your App</h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="assumptions"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#assumptions" title="Direct link to heading">#</a>Assumptions</h4><p>We assume that you have a Java project that uses the SAP Cloud SDK at hand. If not, we recommend going ahead <a href="https://sap.github.io/cloud-sdk/docs/java/getting-started">creating one from one of the Maven archetypes</a>. Moreover, we assume your system is configured so that you can successfully invoke <code>mvn clean install</code> from your project&#x27;s root directory.</p><p>In addition, we assume that your have the SAP Cloud SDK Bill-of-Material (BOM) in your <code>dependencyManagement</code> section in your pom structure. Example:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-xml codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">dependencyManagement</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">dependencies</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">dependency</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">groupId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">com.sap.cloud.sdk</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">groupId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">artifactId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">sdk-bom</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">artifactId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">&lt;!-- use at least version 3.19.1 --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">version</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">3.19.1</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">version</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">type</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">pom</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">type</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">scope</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">import</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">scope</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">dependency</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">dependencies</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">dependencyManagement</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="add-maven-dependency"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#add-maven-dependency" title="Direct link to heading">#</a>Add Maven Dependency</h4><p>You can refer to the Java client library for the SCP Workflow service with the following Maven dependency:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-xml codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">dependency</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">groupId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">com.sap.cloud.sdk.services</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">groupId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">artifactId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">scp-workflow-cf</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">artifactId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">dependency</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></div></div></div></div><p>Add that dependency into your pom file and invoke <code>mvn clean install</code> to check if Maven is able to pick that dependency up.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="invoke-the-java-client-library"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#invoke-the-java-client-library" title="Direct link to heading">#</a>Invoke the Java Client Library</h3><p>We know the name of the HTTP destination that we configured in the SCP cockpit.
At first, we obtain a Java representation of that destination.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">final String destinationName = &quot;Workflow-Api&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">final HttpDestination httpDestination = DestinationAccessor.getDestination(destinationName).asHttp();</span></div></div></div></div></div><p>Secondly, we go ahead and invoke the Java API class for the workflow definitions. More specifically, we invoke the method to obtain the list of all existing workflow definitions. We pass the HTTP destination as argument to the constructor of the API class.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">final List&lt;WorkflowDefinition&gt; workflowDefinitions =</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        new WorkflowDefinitionsApi(httpDestination).getWorkflowDefinitions();</span></div></div></div></div></div><p>We have now invoked the REST API in a type-safe manner and furthermore gain type-safe access to the resulting objects. For instance, we can read particular details about each worklow definition (printed to the log here for demonstration purposes).</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">workflowDefinitions.forEach(workflowDefinition -&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    log.info(workflowDefinition.getName());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    log.info(workflowDefinition.getVersion());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    log.info(workflowDefinition.getCreatedAt().toString());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">});</span></div></div></div></div></div><p>Going even further, the library allows us to inspect all jobs related to a particular workflow definitions. Check out the model definition on the API Hub for this model relationship.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">final WorkflowDefinition workflowDefinition = workflowDefinitions.get(0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">workflowDefinition.getJobs().forEach(job -&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    log.info(job.getId());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    log.info(job.getPurpose().toString());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">});</span></div></div></div></div></div><p>After this demo of the client library we&#x27;ll cover its general capabilities and limitations in the next sections.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="client-library-capabilities"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#client-library-capabilities" title="Direct link to heading">#</a>Client Library Capabilities</h3><p>The Java client library for SCP Workflow enables the developer to invoke the REST API in a type-safe and convenient manner. It provides Java abstractions for all REST API endpoints along with the respective model classes. Essentially, the library relieves the developer from all the HTTP-related development work (e.g., interpreting status codec, JSON de-/serialization) and lets him/her focus on the real business logic.</p><p>Moreover, we integrated the library with the SAP Cloud SDK capabilities, such as the tenant-aware destination retrieval.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="client-library-limitations"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#client-library-limitations" title="Direct link to heading">#</a>Client Library Limitations</h3><p>We have published the client library in a Beta state. That is, we verified its functional correctness to the best of our knowledge, but you should still not use the library for productive use cases. Once the library is mature enough we will announce that explicitly.</p><p>Henceforth, the library supports the SCP Workflow service on Cloud Foundry, while it does not cover the SCP Workflow service on the Neo landscape on SCP. </p><p>Related to Cloud Foundry, you might know that environment variable VCAP_SERVICES contains information about your bound service instances. In the current state, it is required to create a destination manually instead of letting the library consume VCAP_SERVICES directly.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"></div><div class="col text--right"><em><small>Last updated on <time datetime="2020-05-08T09:08:37.000Z" class="docLastUpdatedAt_1sqk">5/8/2020</time> by <strong>Emdee89</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/cloud-sdk/docs/java/features/rest/overview"><div class="pagination-nav__link--sublabel">Previous</div><div class="pagination-nav__link--label"> overview</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/cloud-sdk/docs/java/tips-and-tricks/change-log-level"><div class="pagination-nav__link--sublabel">Next</div><div class="pagination-nav__link--label">Change log level </div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#goal-of-this-documentation" class="contents__link">Goal of this Documentation</a></li><li><a href="#how-scp-workflow-and-cloud-sdk-play-together" class="contents__link">How SCP Workflow and Cloud SDK play together</a></li><li><a href="#an-example-use-case" class="contents__link">An Example Use Case</a></li><li><a href="#consume-the-scp-workflow-rest-api" class="contents__link">Consume the SCP Workflow REST API</a><ul><li><a href="#application-use-case" class="contents__link">Application Use Case</a></li><li><a href="#configuration-steps" class="contents__link">Configuration Steps</a></li><li><a href="#develop-your-app" class="contents__link">Develop your App</a></li><li><a href="#invoke-the-java-client-library" class="contents__link">Invoke the Java Client Library</a></li><li><a href="#client-library-capabilities" class="contents__link">Client Library Capabilities</a></li><li><a href="#client-library-limitations" class="contents__link">Client Library Limitations</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/cloud-sdk/docs/overview/about">SAP Cloud SDK overview</a></li><li class="footer__item"><a class="footer__link-item" href="/cloud-sdk/docs/java/getting-started">Cloud SDK for Java</a></li><li class="footer__item"><a class="footer__link-item" href="/cloud-sdk/docs/js/getting-started">Cloud SDK for JS</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="docs/devops/getting-started">Cloud SDK for CI/CD</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://developers.sap.com/tutorial-navigator.html?tag=products:technology-platform/sap-cloud-sdk/sap-cloud-sdk">Cloud SDK Tutorials</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/questions/tagged/sap-cloud-sdk">Stack Overflow</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://developers.sap.com/topics/cloud-sdk.html">SAP Developers Portal</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://community.sap.com/topics/cloud-sdk">Cloud SDK Community Page</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://help.sap.com/viewer/product/SAP_CLOUD_SDK/1.0/en-US?task=discover_task">Cloud SDK on SAP Help</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://https://blogs.sap.com/">Blog</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/SAP/cloud-sdk">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright  2020 SAP SE or an SAP affiliate company. All rights reserved.</div></div></div></footer>
</div>

<script src="/cloud-sdk/styles.2d3fbfee.js"></script>

<script src="/cloud-sdk/runtime~main.31ee4a81.js"></script>

<script src="/cloud-sdk/main.5d4cec0c.js"></script>

<script src="/cloud-sdk/1.4a41b36e.js"></script>

<script src="/cloud-sdk/2.9bf1e20f.js"></script>

<script src="/cloud-sdk/3.fdc4f96b.js"></script>

<script src="/cloud-sdk/1be78505.f403b653.js"></script>

<script src="/cloud-sdk/06bd7c86.fd6166a3.js"></script>

<script src="/cloud-sdk/17896441.00dc624f.js"></script>

<script src="/cloud-sdk/425d755a.ed3cbb08.js"></script>


</body>
</html>