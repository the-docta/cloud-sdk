(window.webpackJsonp=window.webpackJsonp||[]).push([[96,7,9,14,21,24,25,29,31,32,42,44,46,47,56,57,60,61,73,76,83,87,89,93,102,108,111,114],{174:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return q})),n.d(t,"metadata",(function(){return w})),n.d(t,"rightToc",(function(){return x})),n.d(t,"default",(function(){return k}));var a=n(2),r=n(6),o=n(0),s=n.n(o),i=n(177),c=n(342),d=n(343),u=n(344),l=n(345),p=n(346),b=n(75),m=n(76),f=n(73),h=n(74),j=n(70);function O(){return s.a.createElement(b.default,null)}function g(){return s.a.createElement(m.default,null)}function y(){return s.a.createElement(f.default,null)}function v(){return s.a.createElement(h.default,null)}function N(){return s.a.createElement(j.default,null)}var T,q={id:"use-odata-v4-type-safe-client-for-javascript-typescript",title:"Use the OData v4 client for JavaScript / TypeScript",sidebar_label:"OData v4 client API",description:"Use the SAP Cloud SDK for JavaScript to build and run OData v4 requests in a type-safe way.",keywords:["sap","cloud","sdk","odata","JavaScript","TypeScript","consume"]},w={unversionedId:"js/features/odata/use-odata-v4-type-safe-client-for-javascript-typescript",id:"js/features/odata/use-odata-v4-type-safe-client-for-javascript-typescript",isDocsHomePage:!1,title:"Use the OData v4 client for JavaScript / TypeScript",description:"Use the SAP Cloud SDK for JavaScript to build and run OData v4 requests in a type-safe way.",source:"@site/docs/js/features/odata/odata-v4-client.mdx",slug:"/js/features/odata/use-odata-v4-type-safe-client-for-javascript-typescript",permalink:"/cloud-sdk/docs/js/features/odata/use-odata-v4-type-safe-client-for-javascript-typescript",editUrl:"https://github.com/SAP/cloud-sdk/edit/documentation/docs/js/features/odata/odata-v4-client.mdx",version:"current",lastUpdatedBy:"Frank Essenberger",lastUpdatedAt:1603090957,sidebar_label:"OData v4 client API",sidebar:"someSidebar",previous:{title:"Use the OData v2 client for JavaScript / TypeScript",permalink:"/cloud-sdk/docs/js/features/odata/use-odata-v2-type-safe-client-for-javascript-typescript"},next:{title:"Destinations in the SAP Cloud SDK for JavaScript / TypeScript",permalink:"/cloud-sdk/docs/js/features/connectivity/destination-js-sdk"}},x=[{value:"GetAll Request Builder",id:"getall-request-builder",children:[{value:"Select",id:"select",children:[]},{value:"Filter",id:"filter",children:[]},{value:"Expand",id:"expand",children:[]},{value:"Skip",id:"skip",children:[]},{value:"Top",id:"top",children:[]},{value:"Count",id:"count",children:[]}]},{value:"GetByKey Request Builder",id:"getbykey-request-builder",children:[]},{value:"Create Request Builder",id:"create-request-builder",children:[{value:"Deep Create",id:"deep-create",children:[]},{value:"Create as Child of",id:"create-as-child-of",children:[]}]},{value:"Update Request Builder",id:"update-request-builder",children:[]},{value:"Delete Request Builder",id:"delete-request-builder",children:[]},{value:"Handling of ETags",id:"handling-of-etags",children:[]},{value:"Handling of CSRF tokens",id:"handling-of-csrf-tokens",children:[]},{value:"Available Filter Expressions",id:"available-filter-expressions",children:[{value:"Filter Functions",id:"filter-functions",children:[]}]},{value:"Function imports",id:"function-imports",children:[{value:"Request builder",id:"request-builder",children:[]},{value:"Setting ETag",id:"setting-etag",children:[]}]},{value:"Batch Requests",id:"batch-requests",children:[{value:"Retrieve request",id:"retrieve-request",children:[]},{value:"Changeset",id:"changeset",children:[]},{value:"Combining changesets and retrieve requests",id:"combining-changesets-and-retrieve-requests",children:[]},{value:"Use multiple changesets",id:"use-multiple-changesets",children:[]}]}],P=(T="ETag",function(e){return console.warn("Component "+T+" was not imported, exported, or provided by MDXProvider as global scope"),Object(i.b)("div",e)}),C={rightToc:x};function k(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},C,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"In the following, the OData v4 features supported by the SAP Cloud SDK are explained."),Object(i.b)("p",null,"For more details on ",Object(i.b)("strong",{parentName:"p"},"how to execute requests")," using a (pre-)generated OData client refer to ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"./executing-a-request-using-a-generated-odata-v2-v4-client-with-sap-cloud-sdk-for-javascript"}),"this documentation"),"."),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"In the following code examples sometimes the business-partner service is used.\nThis is a v2 service, but the listed examples are identical for OData v2 and v4."))),Object(i.b)("h2",{id:"getall-request-builder"},"GetAll Request Builder"),Object(i.b)(c.f,{mdxType:"GetAll"}),Object(i.b)("h3",{id:"select"},"Select"),Object(i.b)(v,{mdxType:"Select"}),Object(i.b)("h3",{id:"filter"},"Filter"),Object(i.b)(d.a,{mdxType:"Filter"}),Object(i.b)("h4",{id:"filter-on-one-to-one-navigation-properties"},"Filter on One-To-One Navigation Properties"),Object(i.b)(d.c,{mdxType:"FilterOneToOne"}),Object(i.b)("h4",{id:"filter-on-one-to-many-navigation-properties"},"Filter on One-To-Many Navigation Properties"),Object(i.b)(g,{mdxType:"FilterOneToMany"}),Object(i.b)("h4",{id:"more-filter-expressions"},"More Filter Expressions"),Object(i.b)("p",null,"  More advanced filter expressions can be found ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"#available-filter-expressions"}),"here"),"."),Object(i.b)("h3",{id:"expand"},"Expand"),Object(i.b)("h4",{id:"expand-and-select"},"Expand and Select ",Object(i.b)("a",{name:"expand-and-select"})),Object(i.b)(O,{mdxType:"ExpandSelect"}),Object(i.b)("h4",{id:"sub-queries-in-expand"},"Sub-queries in Expand"),Object(i.b)(N,{mdxType:"SubqueriesInExpand"}),Object(i.b)("h4",{id:"filter-parent-vs-filter-children"},"Filter parent vs. Filter children ",Object(i.b)("a",{name:"filterParentChildren"})),Object(i.b)(y,{mdxType:"FilterParentChild"}),Object(i.b)("h3",{id:"skip"},"Skip"),Object(i.b)(d.d,{mdxType:"Skip"}),Object(i.b)("h3",{id:"top"},"Top"),Object(i.b)(d.e,{mdxType:"Top"}),Object(i.b)("h3",{id:"count"},"Count"),Object(i.b)(c.a,{mdxType:"Count"}),Object(i.b)("h2",{id:"getbykey-request-builder"},"GetByKey Request Builder"),Object(i.b)(c.g,{mdxType:"GetByKey"}),Object(i.b)("h2",{id:"create-request-builder"},"Create Request Builder"),Object(i.b)(c.b,{mdxType:"Create"}),Object(i.b)("h3",{id:"deep-create"},"Deep Create"),Object(i.b)(c.d,{mdxType:"DeepCreate"}),Object(i.b)("h3",{id:"create-as-child-of"},"Create as Child of"),Object(i.b)(c.c,{mdxType:"CreateAsChildOf"}),Object(i.b)("h2",{id:"update-request-builder"},"Update Request Builder"),Object(i.b)(c.h,{mdxType:"Update"}),Object(i.b)("h2",{id:"delete-request-builder"},"Delete Request Builder"),Object(i.b)(c.e,{mdxType:"Delete"}),Object(i.b)("h2",{id:"handling-of-etags"},"Handling of ETags"),Object(i.b)(P,{mdxType:"ETag"}),Object(i.b)("h2",{id:"handling-of-csrf-tokens"},"Handling of CSRF tokens"),Object(i.b)(p.a,{mdxType:"Csrf"}),Object(i.b)("h2",{id:"available-filter-expressions"},"Available Filter Expressions"),Object(i.b)("h3",{id:"filter-functions"},"Filter Functions"),Object(i.b)(d.b,{mdxType:"FilterFunctions"}),Object(i.b)("h2",{id:"function-imports"},"Function imports"),Object(i.b)("h3",{id:"request-builder"},"Request builder"),Object(i.b)(u.b,{mdxType:"RequestBuilder"}),Object(i.b)("h3",{id:"setting-etag"},"Setting ETag"),Object(i.b)(u.a,{mdxType:"EtagFunctionImport"}),Object(i.b)("h2",{id:"batch-requests"},"Batch Requests"),Object(i.b)(l.a,{mdxType:"BatchIntro"}),Object(i.b)("h3",{id:"retrieve-request"},"Retrieve request"),Object(i.b)(l.e,{mdxType:"RetrieveRequests"}),Object(i.b)("h3",{id:"changeset"},"Changeset"),Object(i.b)(l.b,{mdxType:"ChangeSet"}),Object(i.b)("h3",{id:"combining-changesets-and-retrieve-requests"},"Combining changesets and retrieve requests"),Object(i.b)(l.c,{mdxType:"CombineChangeSetRetrieve"}),Object(i.b)("h3",{id:"use-multiple-changesets"},"Use multiple changesets"),Object(i.b)(l.d,{mdxType:"MultiChangeSets"}))}k.isMDXComponent=!0},177:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=r.a.createContext({}),u=function(e){var t=r.a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},l=function(e){var t=u(e.components);return r.a.createElement(d.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},b=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,d=c(e,["components","mdxType","originalType","parentName"]),l=u(n),b=a,m=l["".concat(s,".").concat(b)]||l[b]||p[b]||o;return n?r.a.createElement(m,i(i({ref:t},d),{},{components:n})):r.a.createElement(m,i({ref:t},d))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,s=new Array(o);s[0]=b;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:a,s[1]=i;for(var d=2;d<o;d++)s[d]=n[d];return r.a.createElement.apply(null,s)}return r.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"},342:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return O})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return y}));var a=n(0),r=n.n(a),o=n(64),s=n(67),i=n(49),c=n(68),d=n(50),u=n(65),l=n(69),p=n(57);function b(){return r.a.createElement(o.default,null)}function m(){return r.a.createElement(s.default,null)}function f(){return r.a.createElement(i.default,null)}function h(){return r.a.createElement(c.default,null)}function j(){return r.a.createElement(d.default,null)}function O(){return r.a.createElement(u.default,null)}function g(){return r.a.createElement(l.default,null)}function y(){return r.a.createElement(p.default,null)}},343:function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a),o=n(59),s=n(58),i=n(60),c=n(56),d=n(61);function u(){return r.a.createElement(o.default,null)}function l(){return r.a.createElement(s.default,null)}function p(){return r.a.createElement(i.default,null)}function b(){return r.a.createElement(c.default,null)}function m(){return r.a.createElement(d.default,null)}},344:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var a=n(0),r=n.n(a),o=n(62),s=n(48);function i(){return r.a.createElement(o.default,null)}function c(){return r.a.createElement(s.default,null)}},345:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return m}));var a=n(0),r=n.n(a),o=n(53),s=n(54),i=n(63),c=n(55),d=n(66);function u(){return r.a.createElement(o.default,null)}function l(){return r.a.createElement(s.default,null)}function p(){return r.a.createElement(i.default,null)}function b(){return r.a.createElement(c.default,null)}function m(){return r.a.createElement(d.default,null)}},346:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),r=n.n(a),o=n(52);n(51);function s(){return r.a.createElement(o.default,null)}},48:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(0),n(177)),s={},i={unversionedId:"js/features/odata/common/function-imports/etag-function-import",id:"js/features/odata/common/function-imports/etag-function-import",isDocsHomePage:!1,title:"etag-function-import",description:"The ETag handling with the function imports is not integrated.",source:"@site/docs/js/features/odata/common/function-imports/etag-function-import.mdx",slug:"/js/features/odata/common/function-imports/etag-function-import",permalink:"/cloud-sdk/docs/js/features/odata/common/function-imports/etag-function-import",editUrl:"https://github.com/SAP/cloud-sdk/edit/documentation/docs/js/features/odata/common/function-imports/etag-function-import.mdx",version:"current",lastUpdatedBy:"Frank Essenberger",lastUpdatedAt:1601906093},c=[],d={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"ETag")," handling with the function imports is not integrated.\nBelow is an example demonstrating how to make use of the ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"pathname:///api/1.26.1/classes/sap_cloud_sdk_core.functionimportrequestbuilder-1#withcustomheaders"}),Object(o.b)("inlineCode",{parentName:"a"},"withCustomHeaders"))," for setting ",Object(o.b)("inlineCode",{parentName:"p"},"ETag")," by your own.\nIn order to use ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"pathname:///api/1.28.1/classes/sap_cloud_sdk_core.entityv2#versionidentifier"}),Object(o.b)("inlineCode",{parentName:"a"},"versionIdentifier"))," for ",Object(o.b)("inlineCode",{parentName:"p"},"ETag")," value, make sure you fetch the entity information via e.g., a ",Object(o.b)("inlineCode",{parentName:"p"},"get")," request."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'postGoodsIssue({outboundDeliveryOrder: "order"})\n  .withCustomHeaders({"if-match": entity.versionIdentifier})\n  .execute(destination)\n')))}u.isMDXComponent=!0},49:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(0),n(177)),s={},i={unversionedId:"js/features/odata/common/operations/create-as-child-of",id:"js/features/odata/common/operations/create-as-child-of",isDocsHomePage:!1,title:"create-as-child-of",description:"Assume you have already created a business partner and would like to add a new address to it:",source:"@site/docs/js/features/odata/common/operations/create-as-child-of.mdx",slug:"/js/features/odata/common/operations/create-as-child-of",permalink:"/cloud-sdk/docs/js/features/odata/common/operations/create-as-child-of",editUrl:"https://github.com/SAP/cloud-sdk/edit/documentation/docs/js/features/odata/common/operations/create-as-child-of.mdx",version:"current",lastUpdatedBy:"Frank Essenberger",lastUpdatedAt:1601906093},c=[],d={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Assume you have already created a business partner and would like to add a new address to it:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"const existingBusinessPartner = await BusinessPartner.requestBuilder().getByKey(myID).execute(myDestination);\n\nconst newAddress = BusinessPartnerAddress.builder()\n  .country('DE')\n  .postalCode('14469')\n  .cityName('Potsdam')\n  .streetName('Konrad-Zuse-Ring')\n  .houseNumber('10')\n  .build()\n")),Object(o.b)("p",null,"This can be done by using the ",Object(o.b)("inlineCode",{parentName:"p"},"asChildOf")," method which allows to create an entity as a child of an existing entity.\nYou need to give the parent object and the field connecting the two entities:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"BusinessPartnerAddress.requestBuilder()\n  .create(newAddress)\n  .asChildOf(existingBusinessPartner,BusinessPartner.TO_BUSINESS_PARTNER_ADDRESS)\n  .execute(myDestination)\n")))}u.isMDXComponent=!0},50:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(0),n(177)),s={},i={unversionedId:"js/features/odata/common/operations/delete",id:"js/features/odata/common/operations/delete",isDocsHomePage:!1,title:"delete",description:"The Delete request builder allows you to create DELETE requests, that delete an entity.",source:"@site/docs/js/features/odata/common/operations/delete.mdx",slug:"/js/features/odata/common/operations/delete",permalink:"/cloud-sdk/docs/js/features/odata/common/operations/delete",editUrl:"https://github.com/SAP/cloud-sdk/edit/documentation/docs/js/features/odata/common/operations/delete.mdx",version:"current",lastUpdatedBy:"Frank Essenberger",lastUpdatedAt:1601906093},c=[],d={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"The Delete request builder allows you to create ",Object(o.b)("inlineCode",{parentName:"p"},"DELETE")," requests, that delete an entity."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"/*\n  The following won't work on the real SAP S/4HANA BusinessPartner service because BusinessPartners cannot be deleted.\n  We added this only for the sake of the example.\n*/\nBusinessPartner.requestBuilder().delete(businessPartner);\n")),Object(o.b)("p",null,"Entities can only be deleted if ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"#handling-of-etags"}),"ETags")," match. If you want to force deletion of the entity regardless of the ETag configure the request to ignore version identifiers with ",Object(o.b)("inlineCode",{parentName:"p"},"ignoreVersionIdentifier"),":"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"BusinessPartner.requestBuilder()\n  .delete(businessPartner)\n  .ignoreVersionIdentifier();\n")),Object(o.b)("p",null,"You can also overwrite ETags using ",Object(o.b)("inlineCode",{parentName:"p"},"setVersionIdentifier"),":"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"BusinessPartner.requestBuilder()\n  .delete(businessPartner)\n  .setVersionIdentifier('etag');\n")),Object(o.b)("p",null,"In the example above the ETag 'ETag' is being used instead of the original one."))}u.isMDXComponent=!0},51:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(0),n(177)),s={},i={unversionedId:"js/features/odata/common/etag",id:"js/features/odata/common/etag",isDocsHomePage:!1,title:"etag",description:"An ETag is a version identifier that is often used to implement an optimistic locking mechanism. The SAP Cloud SDK will try to read version identifiers from responses and set them when sending OData requests.",source:"@site/docs/js/features/odata/common/etag.mdx",slug:"/js/features/odata/common/etag",permalink:"/cloud-sdk/docs/js/features/odata/common/etag",editUrl:"https://github.com/SAP/cloud-sdk/edit/documentation/docs/js/features/odata/common/etag.mdx",version:"current",lastUpdatedBy:"Frank Essenberger",lastUpdatedAt:1601906093},c=[],d={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"An ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/ETag"}),"ETag")," is a version identifier that is often used to implement an optimistic locking mechanism. The SAP Cloud SDK will try to read version identifiers from responses and set them when sending OData requests."),Object(o.b)("p",null,"Consider the following example:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"async function modifyBusinessPartner(id) {\n  const destination = { url: 'https://my.s4-system.com' };\n\n  const businessPartner = await BusinessPartner.requestBuilder()\n    .getByKey(id)\n    .execute(myDestination);\n\n  // do some modification\n  applyModification(businessPartner);\n\n  return BusinessPartner.requestBuilder()\n    .update(businessPartner)\n    .execute(destination);\n}\n")),Object(o.b)("p",null,"When executing ",Object(o.b)("inlineCode",{parentName:"p"},"getAll")," and ",Object(o.b)("inlineCode",{parentName:"p"},"getByKey")," requests the SAP Cloud SDK will automatically attempt to extract the version identifier from the response and store it within the returned entity (",Object(o.b)("inlineCode",{parentName:"p"},"partner")," in the example above). When executing ",Object(o.b)("inlineCode",{parentName:"p"},"update")," requests the version identifier will be sent in the ",Object(o.b)("inlineCode",{parentName:"p"},"If-match")," request header."),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"If a service requires this header to be sent: Fetching the entity from the service first is essential to ensure that the ETag is present and up to date."),Object(o.b)("p",{parentName:"div"},"By default an ETag is sent if it's present on the entity being modified. ",Object(o.b)("inlineCode",{parentName:"p"},"ignoreVersionIdentifier()")," will instead always send a ",Object(o.b)("inlineCode",{parentName:"p"},"*")," which acts as a wildcard to match all ETags."))))}u.isMDXComponent=!0},52:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(0),n(177)),s={},i={unversionedId:"js/features/odata/common/csrf-token",id:"js/features/odata/common/csrf-token",isDocsHomePage:!1,title:"csrf-token",description:"To create, update, and delete requests the SDK will try to send a CSRF token.",source:"@site/docs/js/features/odata/common/csrf-token.mdx",slug:"/js/features/odata/common/csrf-token",permalink:"/cloud-sdk/docs/js/features/odata/common/csrf-token",editUrl:"https://github.com/SAP/cloud-sdk/edit/documentation/docs/js/features/odata/common/csrf-token.mdx",version:"current",lastUpdatedBy:"Frank Essenberger",lastUpdatedAt:1601906093},c=[],d={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"To create, update, and delete requests the SDK will try to send a ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://en.wikipedia.org/wiki/Cross-site_request_forgery#Cookie-to-header_token"}),"CSRF token"),".\nUpon execution, the request will try to fetch a token first before issuing the create request.\nMany services require this behavior for security reasons. However, the create request will be made without a CSRF token if none could be obtained."))}u.isMDXComponent=!0},53:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(0),n(177)),s={},i={unversionedId:"js/features/odata/common/batch/batch-intro",id:"js/features/odata/common/batch/batch-intro",isDocsHomePage:!1,title:"batch-intro",description:"OData batch requests combine multiple operations into one POST operation, allowing you to execute multiple requests with just one network call. This can significantly reduce the network overhead you have to deal with when you want to execute a large number of requests.",source:"@site/docs/js/features/odata/common/batch/batch-intro.mdx",slug:"/js/features/odata/common/batch/batch-intro",permalink:"/cloud-sdk/docs/js/features/odata/common/batch/batch-intro",editUrl:"https://github.com/SAP/cloud-sdk/edit/documentation/docs/js/features/odata/common/batch/batch-intro.mdx",version:"current",lastUpdatedBy:"Frank Essenberger",lastUpdatedAt:1601906093},c=[],d={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"OData batch requests combine multiple operations into one POST operation, allowing you to execute multiple requests with just one network call. This can significantly reduce the network overhead you have to deal with when you want to execute a large number of requests."),Object(o.b)("p",null,"An OData batch request can consist of a number of ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"#retrieve-request"}),"retrieve requests")," and ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"#changeset"}),"changesets"),"."))}u.isMDXComponent=!0},54:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(0),n(177)),s={},i={unversionedId:"js/features/odata/common/batch/change-set",id:"js/features/odata/common/batch/change-set",isDocsHomePage:!1,title:"change-set",description:"A changeset is a collection of HTTP POST, PUT, PATCH and DELETE operations - requests built by any CreateRequestBuilder, UpdateRequestBuilder and DeleteRequestBuilder in terms of the SAP Cloud SDK. The order of execution within a changeset is not defined as opposed to the whole batch request itself. Therefore the requests within a changeset should not depend on each other. If the execution of any of the requests within a changeset fails, the whole changeset will be reflected as an error in the response and will not be applied, much like a database transaction.",source:"@site/docs/js/features/odata/common/batch/change-set.mdx",slug:"/js/features/odata/common/batch/change-set",permalink:"/cloud-sdk/docs/js/features/odata/common/batch/change-set",editUrl:"https://github.com/SAP/cloud-sdk/edit/documentation/docs/js/features/odata/common/batch/change-set.mdx",version:"current",lastUpdatedBy:"Frank Essenberger",lastUpdatedAt:1601906093},c=[],d={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"A changeset is a collection of HTTP ",Object(o.b)("inlineCode",{parentName:"p"},"POST"),", ",Object(o.b)("inlineCode",{parentName:"p"},"PUT"),", ",Object(o.b)("inlineCode",{parentName:"p"},"PATCH")," and ",Object(o.b)("inlineCode",{parentName:"p"},"DELETE")," operations - requests built by any ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"#create-request-builder"}),"CreateRequestBuilder"),", ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"#update-request-builder"}),"UpdateRequestBuilder")," and ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"#delete-request-builder"}),"DeleteRequestBuilder")," in terms of the SAP Cloud SDK. The order of execution within a changeset is not defined as opposed to the whole batch request itself. Therefore the requests within a changeset should not depend on each other. If the execution of any of the requests within a changeset fails, the whole changeset will be reflected as an error in the response and will not be applied, much like a database transaction."),Object(o.b)("p",null,"In the example below, a list of addresses is mapped in an ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"#update-request-builder"}),"UpdateRequestBuilder")," to form the update requests, which are then wrapped in a changeset and passed to the batch function."),Object(o.b)("p",null,"The batch request will return a single ",Object(o.b)("inlineCode",{parentName:"p"},"BatchResponse")," in a list, which is stored in the ",Object(o.b)("inlineCode",{parentName:"p"},"updateChangesetResponse")," variable."),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"WriteResponses")," contains the function ",Object(o.b)("inlineCode",{parentName:"p"},"isSuccess")," and the property ",Object(o.b)("inlineCode",{parentName:"p"},"responses")," which is a list of ",Object(o.b)("inlineCode",{parentName:"p"},"WriteResponse")," which contains an HTTP code, and can contain a body, an entity (in this case ",Object(o.b)("inlineCode",{parentName:"p"},"BusinessPartnerAddress"),") and the function ",Object(o.b)("inlineCode",{parentName:"p"},"as")," to convert the response into the entity."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"updateAddresses(businessPartnerAddresses: BusinessPartnerAddress[])\n:Promise<BusinessPartnerAddress[]> {\n  const updateRequests = businessPartnerAddresses.map(\n    address => BusinessPartnerAddress\n      .requestBuilder()\n      .update(address)\n  );\n\n  const [updateChangesetResponse] = await batch(changeset(...updateRequests))\n    .execute(destination);\n\n  return (updateChangesetResponse as WriteResponses)\n    .responses\n    .map(\n      response => response.as(BusinessPartnerAddress)\n    );\n}\n")))}u.isMDXComponent=!0},55:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(0),n(177)),s={},i={unversionedId:"js/features/odata/common/batch/multiple-change-sets",id:"js/features/odata/common/batch/multiple-change-sets",isDocsHomePage:!1,title:"multiple-change-sets",description:"A batch request can consist of multiple changeset. As shown in the example below, the changeset1 will be executed first followed by the changeset2.",source:"@site/docs/js/features/odata/common/batch/multiple-change-sets.mdx",slug:"/js/features/odata/common/batch/multiple-change-sets",permalink:"/cloud-sdk/docs/js/features/odata/common/batch/multiple-change-sets",editUrl:"https://github.com/SAP/cloud-sdk/edit/documentation/docs/js/features/odata/common/batch/multiple-change-sets.mdx",version:"current",lastUpdatedBy:"Frank Essenberger",lastUpdatedAt:1601906093},c=[],d={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"A batch request can consist of multiple changeset. As shown in the example below, the ",Object(o.b)("inlineCode",{parentName:"p"},"changeset1")," will be executed first followed by the ",Object(o.b)("inlineCode",{parentName:"p"},"changeset2"),".\nIn contrast to the operations within a changeset, which have no defined order of execution as state already before."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"const changeset1 = changeset(...updateRequests1);\nconst changeset2 = changeset(...updateRequests2);\n\nconst [changesetResponse1, changesetResponse2] =\n  await batch(\n    changeset1,\n    changeset2,\n  )\n  .execute(destination);\n")))}u.isMDXComponent=!0},56:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(0),n(177)),s={},i={unversionedId:"js/features/odata/common/query-parameter/filter-one-to-one",id:"js/features/odata/common/query-parameter/filter-one-to-one",isDocsHomePage:!1,title:"filter-one-to-one",description:"In addition to basic properties, filters can also be applied on one-to-one navigation properties.",source:"@site/docs/js/features/odata/common/query-parameter/filter-one-to-one.mdx",slug:"/js/features/odata/common/query-parameter/filter-one-to-one",permalink:"/cloud-sdk/docs/js/features/odata/common/query-parameter/filter-one-to-one",editUrl:"https://github.com/SAP/cloud-sdk/edit/documentation/docs/js/features/odata/common/query-parameter/filter-one-to-one.mdx",version:"current",lastUpdatedBy:"Frank Essenberger",lastUpdatedAt:1601906093},c=[],d={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"In addition to basic properties, filters can also be applied on one-to-one navigation properties.\nThe example below shows how to filter on the ",Object(o.b)("inlineCode",{parentName:"p"},"TO_CUSTOMER"),", which is a one-to-one navigation property of the BusinessPartner entity.\nPlease note, the ",Object(o.b)("inlineCode",{parentName:"p"},"CUSTOMER_NAME")," and ",Object(o.b)("inlineCode",{parentName:"p"},"CUSTOMER_FULL_NAME")," are properties of the entity ",Object(o.b)("inlineCode",{parentName:"p"},"Customer"),", which is the type of the one-to-one navigation property ",Object(o.b)("inlineCode",{parentName:"p"},"TO_CUSTOMER"),"."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"/*\n  Get all business partners that match all the following conditions:\n    - Have customer with the customer name 'name'\n    - Have customer with the customer full name 'fullName'\n*/\n.filter(\n  BusinessPartner.TO_CUSTOMER.filter(\n    Customer.CUSTOMER_NAME.equals('name'),\n    Customer.CUSTOMER_FULL_NAME.equals('fullName')\n  )\n)\n")),Object(o.b)("p",null,"The generated ",Object(o.b)("inlineCode",{parentName:"p"},"$filter")," will be:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sql"}),"$filter=((to_Customer/CustomerName eq 'name' and to_Customer/CustomerFullName eq 'fullName'))\n")))}u.isMDXComponent=!0},57:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(0),n(177)),s={},i={unversionedId:"js/features/odata/common/operations/update",id:"js/features/odata/common/operations/update",isDocsHomePage:!1,title:"update",description:"The Update request builder allows you to send PUT or PATCH requests. By default PATCH is used to only update the changed fields:",source:"@site/docs/js/features/odata/common/operations/update.mdx",slug:"/js/features/odata/common/operations/update",permalink:"/cloud-sdk/docs/js/features/odata/common/operations/update",editUrl:"https://github.com/SAP/cloud-sdk/edit/documentation/docs/js/features/odata/common/operations/update.mdx",version:"current",lastUpdatedBy:"Frank Essenberger",lastUpdatedAt:1601906093},c=[],d={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"The Update request builder allows you to send ",Object(o.b)("inlineCode",{parentName:"p"},"PUT")," or ",Object(o.b)("inlineCode",{parentName:"p"},"PATCH")," requests. By default ",Object(o.b)("inlineCode",{parentName:"p"},"PATCH")," is used to only update the changed fields:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"BusinessPartner.requestBuilder().update(businessPartner);\n")),Object(o.b)("p",null,"In the example above only the changed fields of the given ",Object(o.b)("inlineCode",{parentName:"p"},"businessPartner")," instance are sent to the BusinessPartner service using ",Object(o.b)("inlineCode",{parentName:"p"},"PATCH"),"."),Object(o.b)("p",null,"To update the whole entity use ",Object(o.b)("inlineCode",{parentName:"p"},"replaceWholeEntityWithPut"),":"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"BusinessPartner.requestBuilder()\n  .update(businessPartner)\n  .replaceWholeEntityWithPut();\n")),Object(o.b)("p",null,"This will send a ",Object(o.b)("inlineCode",{parentName:"p"},"PUT")," request and thereby replace the whole entity."),Object(o.b)("p",null,"Entities can only be updated if ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"#handling-of-etags"}),"ETags")," match. If you want to force an update of the entity regardless of the ETag configure the request to ignore version identifiers with ",Object(o.b)("inlineCode",{parentName:"p"},"ignoreVersionIdentifier"),":"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"BusinessPartner.requestBuilder()\n  .update(businessPartner)\n  .ignoreVersionIdentifier();\n")))}u.isMDXComponent=!0},58:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(0),n(177)),s={},i={unversionedId:"js/features/odata/common/query-parameter/skip",id:"js/features/odata/common/query-parameter/skip",isDocsHomePage:!1,title:"skip",description:"skip allows you to skip a number of results in the requested set. It can be useful for paging:",source:"@site/docs/js/features/odata/common/query-parameter/skip.mdx",slug:"/js/features/odata/common/query-parameter/skip",permalink:"/cloud-sdk/docs/js/features/odata/common/query-parameter/skip",editUrl:"https://github.com/SAP/cloud-sdk/edit/documentation/docs/js/features/odata/common/query-parameter/skip.mdx",version:"current",lastUpdatedBy:"Frank Essenberger",lastUpdatedAt:1601906093},c=[],d={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"skip")," allows you to skip a number of results in the requested set. It can be useful for paging:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"BusinessPartner.requestBuilder().\n  .getAll()\n  .skip(10)\n")))}u.isMDXComponent=!0},59:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(0),n(177)),s={},i={unversionedId:"js/features/odata/common/query-parameter/top",id:"js/features/odata/common/query-parameter/top",isDocsHomePage:!1,title:"top",description:"top limits the number of returned results. This can also be useful for paging:",source:"@site/docs/js/features/odata/common/query-parameter/top.mdx",slug:"/js/features/odata/common/query-parameter/top",permalink:"/cloud-sdk/docs/js/features/odata/common/query-parameter/top",editUrl:"https://github.com/SAP/cloud-sdk/edit/documentation/docs/js/features/odata/common/query-parameter/top.mdx",version:"current",lastUpdatedBy:"Frank Essenberger",lastUpdatedAt:1601906093},c=[],d={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"top")," limits the number of returned results. This can also be useful for paging:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"BusinessPartner.requestBuilder().\n  .getAll()\n  .top(10)\n")),Object(o.b)("p",null,"The example above retrieves the first 10 BusinessPartner entities."))}u.isMDXComponent=!0},60:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(0),n(177)),s={},i={unversionedId:"js/features/odata/common/query-parameter/filter",id:"js/features/odata/common/query-parameter/filter",isDocsHomePage:!1,title:"filter",description:"When operating on a collection of entities the API offers filter( ... ) on the builders. It directly corresponds to the $filter parameter of the request. Filters are also built via the static property fields on entities:",source:"@site/docs/js/features/odata/common/query-parameter/filter.mdx",slug:"/js/features/odata/common/query-parameter/filter",permalink:"/cloud-sdk/docs/js/features/odata/common/query-parameter/filter",editUrl:"https://github.com/SAP/cloud-sdk/edit/documentation/docs/js/features/odata/common/query-parameter/filter.mdx",version:"current",lastUpdatedBy:"Frank Essenberger",lastUpdatedAt:1601906093},c=[],d={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"When operating on a collection of entities the API offers ",Object(o.b)("inlineCode",{parentName:"p"},"filter( ... )")," on the builders. It directly corresponds to the ",Object(o.b)("inlineCode",{parentName:"p"},"$filter")," parameter of the request. Filters are also built via the static property fields on entities:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"/*\n  Get all business partners that either:\n    - Have first name 'Alice' but not last name 'Bob'\n    - Or have first name 'Mallory'\n*/\nBusinessPartner.requestBuilder()\n  .getAll()\n  .filter(\n    or(\n      and(\n        BusinessPartner.FIRST_NAME.equals('Alice'),\n        BusinessPartner.LAST_NAME.notEquals('Bob')\n      ),\n      BusinessPartner.FIRST_NAME.equals('Mallory')\n    )\n  )\n  .execute(destination);\n")),Object(o.b)("p",null,"The example above will translate to this filter parameter:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sql"}),"$filter=(((FirstName eq 'Alice') and (LastName ne 'Bob')) or (FirstName eq 'Mallory'))\n")),Object(o.b)("p",null,"Take note of the order of ",Object(o.b)("inlineCode",{parentName:"p"},"and")," and ",Object(o.b)("inlineCode",{parentName:"p"},"or"),". As ",Object(o.b)("inlineCode",{parentName:"p"},"or")," is invoked on the result of ",Object(o.b)("inlineCode",{parentName:"p"},"and")," it will form the outer expression while ",Object(o.b)("inlineCode",{parentName:"p"},"and")," is an inner expression in the first branch of ",Object(o.b)("inlineCode",{parentName:"p"},"or"),"."),Object(o.b)("p",null,"It is also possible to pass multiple filters to the same filter function without concatenating them with ",Object(o.b)("inlineCode",{parentName:"p"},"and")," or ",Object(o.b)("inlineCode",{parentName:"p"},"or"),". They will be concatenated with ",Object(o.b)("inlineCode",{parentName:"p"},"and")," by default. The two following examples are equal:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),".filter(\n  and(\n    BusinessPartner.FIRST_NAME.equals('Alice'),\n    BusinessPartner.LAST_NAME.notEquals('Bob')\n  )\n)\n")),Object(o.b)("p",null,"The example above can be shortened to:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),".filter(\n  BusinessPartner.FIRST_NAME.equals('Alice'),\n  BusinessPartner.LAST_NAME.notEquals('Bob')\n)\n")))}u.isMDXComponent=!0},61:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(0),n(177)),s={},i={unversionedId:"js/features/odata/common/query-parameter/filter-functions",id:"js/features/odata/common/query-parameter/filter-functions",isDocsHomePage:!1,title:"filter-functions",description:"There are predefined filter functions e. g. length, substring, substringOf in the core library, that allow for a wide range of filter expressions:",source:"@site/docs/js/features/odata/common/query-parameter/filter-functions.mdx",slug:"/js/features/odata/common/query-parameter/filter-functions",permalink:"/cloud-sdk/docs/js/features/odata/common/query-parameter/filter-functions",editUrl:"https://github.com/SAP/cloud-sdk/edit/documentation/docs/js/features/odata/common/query-parameter/filter-functions.mdx",version:"current",lastUpdatedBy:"Frank Essenberger",lastUpdatedAt:1601906093},c=[],d={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"There are predefined filter functions e. g. ",Object(o.b)("inlineCode",{parentName:"p"},"length"),", ",Object(o.b)("inlineCode",{parentName:"p"},"substring"),", ",Object(o.b)("inlineCode",{parentName:"p"},"substringOf")," in the core library, that allow for a wide range of filter expressions:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"/*\n  Fetch all business partners who have a first name shorter than 5 letters\n*/\nBusinessPartner.requestBuilder()\n  .getAll()\n  .filter(length(BusinessPartner.FIRST_NAME).lessThan(5))\n  .execute(destination);\n")))}u.isMDXComponent=!0},62:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(0),n(177)),s={},i={unversionedId:"js/features/odata/common/function-imports/request-builder",id:"js/features/odata/common/function-imports/request-builder",isDocsHomePage:!1,title:"request-builder",description:"The function imports request builder helps build a request for a service operation containing parameters in a typesave way.",source:"@site/docs/js/features/odata/common/function-imports/request-builder.mdx",slug:"/js/features/odata/common/function-imports/request-builder",permalink:"/cloud-sdk/docs/js/features/odata/common/function-imports/request-builder",editUrl:"https://github.com/SAP/cloud-sdk/edit/documentation/docs/js/features/odata/common/function-imports/request-builder.mdx",version:"current",lastUpdatedBy:"Frank Essenberger",lastUpdatedAt:1601906093},c=[],d={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"The ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"pathname:///api/1.28.1/classes/sap_cloud_sdk_core.functionimportrequestbuilderv2"}),"function imports request builder")," helps build a request for a service operation containing parameters in a typesave way.\nThis time, as an example, the ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://api.sap.com/api/API_WHSE_OUTB_DLV_ORDER/resource"}),Object(o.b)("inlineCode",{parentName:"a"},"Warehouse Outbound Delivery Order Service"))," is used, because not all the services contain function imports like the ",Object(o.b)("inlineCode",{parentName:"p"},"Business Partner Service"),".\nThe type safe client for the ",Object(o.b)("inlineCode",{parentName:"p"},"Warehouse Outbound Delivery Order Service")," can be found in the package ",Object(o.b)("inlineCode",{parentName:"p"},"@sap/cloud-sdk-vdm-warehouse-outbound-delivery-order-service"),"."),Object(o.b)("p",null,"The example below creates a function import request builder for the service operation ",Object(o.b)("inlineCode",{parentName:"p"},"PostGoodsIssue")," and then execute it against your service."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'postGoodsIssue({outboundDeliveryOrder: "order"})\n  .execute(destination);\n')),Object(o.b)("p",null,"The service operation is defined in the service metadata."))}u.isMDXComponent=!0},63:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(0),n(177)),s={},i={unversionedId:"js/features/odata/common/batch/combine-change-retrieve",id:"js/features/odata/common/batch/combine-change-retrieve",isDocsHomePage:!1,title:"combine-change-retrieve",description:"In the example below, the changesets will be executed first, and then retrieve requests will be executed sequentially afterward. The order of execution within the changeset is not defined.",source:"@site/docs/js/features/odata/common/batch/combine-change-retrieve.mdx",slug:"/js/features/odata/common/batch/combine-change-retrieve",permalink:"/cloud-sdk/docs/js/features/odata/common/batch/combine-change-retrieve",editUrl:"https://github.com/SAP/cloud-sdk/edit/documentation/docs/js/features/odata/common/batch/combine-change-retrieve.mdx",version:"current",lastUpdatedBy:"Frank Essenberger",lastUpdatedAt:1601906093},c=[],d={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"In the example below, the changesets will be executed first, and then retrieve requests will be executed sequentially afterward. The order of execution within the changeset is not defined.\nThe first ",Object(o.b)("inlineCode",{parentName:"p"},"BatchResponse")," will be the response to the changeset. The rest will be the responses for your retrieve requests."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"const [updateChangesetResponse, ...retrieveResponses] =\n  await batch(\n    changeset(...updateRequests),\n    ...retrieveRequests\n  )\n  .execute(destination);\n")))}u.isMDXComponent=!0},64:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(0),n(177)),s={},i={unversionedId:"js/features/odata/common/operations/count",id:"js/features/odata/common/operations/count",isDocsHomePage:!1,title:"count",description:"Not yet available.",source:"@site/docs/js/features/odata/common/operations/count.mdx",slug:"/js/features/odata/common/operations/count",permalink:"/cloud-sdk/docs/js/features/odata/common/operations/count",editUrl:"https://github.com/SAP/cloud-sdk/edit/documentation/docs/js/features/odata/common/operations/count.mdx",version:"current",lastUpdatedBy:"Frank Essenberger",lastUpdatedAt:1601906093},c=[],d={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Not yet available."))}u.isMDXComponent=!0},65:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(0),n(177)),s={},i={unversionedId:"js/features/odata/common/operations/get-all",id:"js/features/odata/common/operations/get-all",isDocsHomePage:!1,title:"get-all",description:"The GetAll request builder allows you to create a request to retrieve all entities that match the request configuration.",source:"@site/docs/js/features/odata/common/operations/get-all.mdx",slug:"/js/features/odata/common/operations/get-all",permalink:"/cloud-sdk/docs/js/features/odata/common/operations/get-all",editUrl:"https://github.com/SAP/cloud-sdk/edit/documentation/docs/js/features/odata/common/operations/get-all.mdx",version:"current",lastUpdatedBy:"Frank Essenberger",lastUpdatedAt:1601906093},c=[],d={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"The GetAll request builder allows you to create a request to retrieve all entities that match the request configuration."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"BusinessPartner.requestBuilder().getAll();\n")),Object(o.b)("p",null,"The example above creates a request to get all BusinessPartner entities."))}u.isMDXComponent=!0},66:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(0),n(177)),s={},i={unversionedId:"js/features/odata/common/batch/retrieve-request",id:"js/features/odata/common/batch/retrieve-request",isDocsHomePage:!1,title:"retrieve-request",description:"A retrieve request is any HTTP GET request - in terms of the SAP Cloud SDK this includes all requests built by a GetAllRequestBuilder and GetByKeyRequestBuilder.",source:"@site/docs/js/features/odata/common/batch/retrieve-request.mdx",slug:"/js/features/odata/common/batch/retrieve-request",permalink:"/cloud-sdk/docs/js/features/odata/common/batch/retrieve-request",editUrl:"https://github.com/SAP/cloud-sdk/edit/documentation/docs/js/features/odata/common/batch/retrieve-request.mdx",version:"current",lastUpdatedBy:"Frank Essenberger",lastUpdatedAt:1601906093},c=[],d={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"A retrieve request is any HTTP ",Object(o.b)("inlineCode",{parentName:"p"},"GET")," request - in terms of the SAP Cloud SDK this includes all requests built by a ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"#getall-request-builder"}),"GetAllRequestBuilder")," and ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"#getbykey-request-builder"}),"GetByKeyRequestBuilder"),"."),Object(o.b)("p",null,"In the example below, a list of addresses is mapped in a ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"#getbykey-request-builder"}),"GetByKeyRequestBuilder")," to form the read requests, which are then passed to the batch function."),Object(o.b)("p",null,"The batch request will return a list of ",Object(o.b)("inlineCode",{parentName:"p"},"BatchResponse")," items, which will be stored in the ",Object(o.b)("inlineCode",{parentName:"p"},"retrieveResponses")," variable. These ",Object(o.b)("inlineCode",{parentName:"p"},"BatchResponse")," items need to be parsed and converted to the expected entities."),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"ReadResponse")," contains an HTTP code, a body, an entity (in this case ",Object(o.b)("inlineCode",{parentName:"p"},"BusinessPartnerAddress"),"), and functions like ",Object(o.b)("inlineCode",{parentName:"p"},"as")," to convert the response into the entity and ",Object(o.b)("inlineCode",{parentName:"p"},"isSuccess"),"."),Object(o.b)("p",null,"The reduce function converts each of the ReadResponses to a BusinessPartnerAddress using the ",Object(o.b)("inlineCode",{parentName:"p"},"as")," function. The ",Object(o.b)("inlineCode",{parentName:"p"},"addresses")," variable is the accumulator and the ",Object(o.b)("inlineCode",{parentName:"p"},"[]")," is the initial value. We end up with a list of BusinessPartnerAddress."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"async getAddresses(businessPartnerAddresses: BusinessPartnerAddress[])\n:Promise<BusinessPartnerAddress[]> {\n  const retrieveRequests = businessPartnerAddresses.map(\n      address => BusinessPartnerAddress\n        .requestBuilder()\n        .getByKey(address.businessPartner, address.addressId)\n  );\n\n  const retrieveResponses = await batch(...retrieveRequests)\n    .execute(destination);\n\n  return retrieveResponses.reduce(\n    (addresses, response: ReadResponse) =>\n      [...addresses, ...response.as(BusinessPartnerAddress)]\n      , []\n  );\n}\n")))}u.isMDXComponent=!0},67:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(0),n(177)),s={},i={unversionedId:"js/features/odata/common/operations/create",id:"js/features/odata/common/operations/create",isDocsHomePage:!1,title:"create",description:"The Create request builder allows you to send a POST request to create a new entity:",source:"@site/docs/js/features/odata/common/operations/create.mdx",slug:"/js/features/odata/common/operations/create",permalink:"/cloud-sdk/docs/js/features/odata/common/operations/create",editUrl:"https://github.com/SAP/cloud-sdk/edit/documentation/docs/js/features/odata/common/operations/create.mdx",version:"current",lastUpdatedBy:"Frank Essenberger",lastUpdatedAt:1601906093},c=[],d={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"The Create request builder allows you to send a ",Object(o.b)("inlineCode",{parentName:"p"},"POST")," request to create a new entity:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"const businessPartner = BusinessPartner.builder().build();\nBusinessPartner.requestBuilder().create(businessPartner);\n")),Object(o.b)("p",null,"In the example above we created an instance of BusinessPartner and sent it to the BusinessPartner service in a ",Object(o.b)("inlineCode",{parentName:"p"},"POST")," request."))}u.isMDXComponent=!0},68:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(0),n(177)),s={},i={unversionedId:"js/features/odata/common/operations/deep-create",id:"js/features/odata/common/operations/deep-create",isDocsHomePage:!1,title:"deep-create",description:"It is also possible to create an entity together with related entities in a single request:",source:"@site/docs/js/features/odata/common/operations/deep-create.mdx",slug:"/js/features/odata/common/operations/deep-create",permalink:"/cloud-sdk/docs/js/features/odata/common/operations/deep-create",editUrl:"https://github.com/SAP/cloud-sdk/edit/documentation/docs/js/features/odata/common/operations/deep-create.mdx",version:"current",lastUpdatedBy:"Frank Essenberger",lastUpdatedAt:1601906093},c=[],d={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"It is also possible to create an entity together with related entities in a single request:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"// build a business partner instance with one linked address\nconst businessPartner = BusinessPartner.builder()\n  .firstName('John')\n  .lastName('Doe')\n  .businessPartnerCategory('1')\n  .toBusinessPartnerAddress([\n    BusinessPartnerAddress.builder()\n      .country('DE')\n      .postalCode('14469')\n      .cityName('Potsdam')\n      .streetName('Konrad-Zuse-Ring')\n      .houseNumber('10')\n      .build()\n  ])\n  .build();\n\n// execute the create request\nBusinessPartner.requestBuilder()\n  .create(businessPartner)\n  .execute(myDestination);\n")),Object(o.b)("p",null,"You can also create an entity ",Object(o.b)("inlineCode",{parentName:"p"},"asChildOf")," another entity."))}u.isMDXComponent=!0},69:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(0),n(177)),s={},i={unversionedId:"js/features/odata/common/operations/get-by-key",id:"js/features/odata/common/operations/get-by-key",isDocsHomePage:!1,title:"get-by-key",description:"The GetByKey request builder allows you to create a request to retrieve one entity based on its key:",source:"@site/docs/js/features/odata/common/operations/get-by-key.mdx",slug:"/js/features/odata/common/operations/get-by-key",permalink:"/cloud-sdk/docs/js/features/odata/common/operations/get-by-key",editUrl:"https://github.com/SAP/cloud-sdk/edit/documentation/docs/js/features/odata/common/operations/get-by-key.mdx",version:"current",lastUpdatedBy:"Frank Essenberger",lastUpdatedAt:1601906093},c=[],d={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"The GetByKey request builder allows you to create a request to retrieve one entity based on its key:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"BusinessPartner.requestBuilder().getByKey('id');\n")),Object(o.b)("p",null,"The example above retrieves the BusinessPartner with the id 'id'."),Object(o.b)("p",null,"The result can be restricted by applying the ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"#select"}),"select")," function, same as in the ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"#getall-request-builder"}),"GetAll")," request."))}u.isMDXComponent=!0},70:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(0),n(177)),s={},i={unversionedId:"js/features/odata/v4/subqueries-in-expand",id:"js/features/odata/v4/subqueries-in-expand",isDocsHomePage:!1,title:"subqueries-in-expand",description:"Note that you can create very complex queries within the expand scope:",source:"@site/docs/js/features/odata/v4/subqueries-in-expand.mdx",slug:"/js/features/odata/v4/subqueries-in-expand",permalink:"/cloud-sdk/docs/js/features/odata/v4/subqueries-in-expand",editUrl:"https://github.com/SAP/cloud-sdk/edit/documentation/docs/js/features/odata/v4/subqueries-in-expand.mdx",version:"current",lastUpdatedBy:"Frank Essenberger",lastUpdatedAt:1601906093},c=[],d={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Note that you can create very complex queries within the expand scope:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'People.requestBuilder().getAll()\n    .expand(People.FRIENDS\n      .select(People.FIRST_NAME,People.ADDRESS_INFO)\n      .filter(People.LAST_NAME.equals("Miller"))\n      .orderBy(asc(People.GENDER))\n      .top(1)\n      .skip(1)\n    )\n')),Object(o.b)("p",null,"In this example the filter will reduce the friends to be shown.\nThe effect of a filter depends whether it is used in or outside of an expand.\nThe different cases are explained in ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"#filterParentChildren"}),"Filters in Expand.")),Object(o.b)("p",null,"The URL for the query will be:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sql"}),"/People?$expand=Friends($select=FirstName,AddressInfo;$filter=(LastName eq 'Miller');$skip=1;$top=1;$orderby=Gender asc)\n")))}u.isMDXComponent=!0},73:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(0),n(177)),s={},i={unversionedId:"js/features/odata/v4/filter-parent-child",id:"js/features/odata/v4/filter-parent-child",isDocsHomePage:!1,title:"filter-parent-child",description:"Depending on the context of the filter it will either filter the parent or the children.",source:"@site/docs/js/features/odata/v4/filter-parent-child.mdx",slug:"/js/features/odata/v4/filter-parent-child",permalink:"/cloud-sdk/docs/js/features/odata/v4/filter-parent-child",editUrl:"https://github.com/SAP/cloud-sdk/edit/documentation/docs/js/features/odata/v4/filter-parent-child.mdx",version:"current",lastUpdatedBy:"Frank Essenberger",lastUpdatedAt:1601906093},c=[],d={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Depending on the context of the filter it will either filter the parent or the children.\nIn our example we have a ",Object(o.b)("inlineCode",{parentName:"p"},"PERSON")," related to 0..N ",Object(o.b)("inlineCode",{parentName:"p"},"FRIENDS")," which are both of type people."),Object(o.b)("p",null,"If you want to get all people with first name ",Object(o.b)("inlineCode",{parentName:"p"},"John")," the query is:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"People.requestBuilder().getAll()\n    .filter(People.FIRST_NAME.equals('John'))\n")),Object(o.b)("p",null,"If you want to get all people who have at least one friend with first name ",Object(o.b)("inlineCode",{parentName:"p"},"John")," the query is:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"People.requestBuilder().getAll().filter(People.FRIENDS\n    .filter(\n        any(People.FIRST_NAME.equals('John'))\n    )\n)\n")),Object(o.b)("p",null,"The lambda ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"pathname:///api/1.28.1/modules/sap_cloud_sdk_core#all"}),"all")," would enforce that all friends must have first name ",Object(o.b)("inlineCode",{parentName:"p"},"John"),".\nThe two queries above filter the parent entity person."),Object(o.b)("p",null,"In case you want to get all people but reduce the friends in the response, the filter has to be inside the expand:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"People.requestBuilder().getAll()\n    .expand(People.FRIENDS\n        .filter(People.FIRST_NAME.equals('John'))\n    )\n")),Object(o.b)("p",null,"This will return all people but only the friends with first name ",Object(o.b)("inlineCode",{parentName:"p"},"John")," will be included in the response."))}u.isMDXComponent=!0},74:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(0),n(177)),s={},i={unversionedId:"js/features/odata/v4/select",id:"js/features/odata/v4/select",isDocsHomePage:!1,title:"select",description:"When reading entities, the API offers select( ... ) on the builders.",source:"@site/docs/js/features/odata/v4/select.mdx",slug:"/js/features/odata/v4/select",permalink:"/cloud-sdk/docs/js/features/odata/v4/select",editUrl:"https://github.com/SAP/cloud-sdk/edit/documentation/docs/js/features/odata/v4/select.mdx",version:"current",lastUpdatedBy:"Frank Essenberger",lastUpdatedAt:1601906093},c=[],d={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"When reading entities, the API offers ",Object(o.b)("inlineCode",{parentName:"p"},"select( ... )")," on the builders.\nNote that for OData v4 a ",Object(o.b)("inlineCode",{parentName:"p"},"select")," does not automatically expand navigation properties.\nSee ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"#expand-and-select"}),"here")," for detail on select and expand.\nFor non navigational property the ",Object(o.b)("inlineCode",{parentName:"p"},"select")," behaves as follows:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"BusinessPartner.requestBuilder()\n  .getAll()\n  .select(\n    BusinessPartner.FIRST_NAME,\n    BusinessPartner.LAST_NAME\n  )\n  .execute(destination);\n")),Object(o.b)("p",null,"The above translates to the following query parameters:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sql"}),"$select=FirstName,LastName\n")))}u.isMDXComponent=!0},75:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(0),n(177)),s={},i={unversionedId:"js/features/odata/v4/expand-select",id:"js/features/odata/v4/expand-select",isDocsHomePage:!1,title:"expand-select",description:"In contrast to the OData v2 implementation, you have to select and expand separately.",source:"@site/docs/js/features/odata/v4/expand-select.mdx",slug:"/js/features/odata/v4/expand-select",permalink:"/cloud-sdk/docs/js/features/odata/v4/expand-select",editUrl:"https://github.com/SAP/cloud-sdk/edit/documentation/docs/js/features/odata/v4/expand-select.mdx",version:"current",lastUpdatedBy:"Frank Essenberger",lastUpdatedAt:1601906093},c=[],d={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"In contrast to the OData v2 implementation, you have to ",Object(o.b)("inlineCode",{parentName:"p"},"select")," and ",Object(o.b)("inlineCode",{parentName:"p"},"expand")," separately.\nIn other words selected properties are not expanded automatically as in v2."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"People.requestBuilder().getAll()\n    .select(People.LAST_NAME)\n    .expand(People.FRIENDS.select(People.FIRST_NAME,People.ADDRESS_INFO))\n")),Object(o.b)("p",null,"In the example above you select the ",Object(o.b)("inlineCode",{parentName:"p"},"LAST_NAME")," of the root entity and expand the navigation property ",Object(o.b)("inlineCode",{parentName:"p"},"FRIENDS"),".\nIn the expanded entity the selected fields are ",Object(o.b)("inlineCode",{parentName:"p"},"FIRST_NAME")," and ",Object(o.b)("inlineCode",{parentName:"p"},"ADDRESS_INFO"),"."),Object(o.b)("p",null,"The generated URL for this request will be:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sql"}),"/People?$select=LastName&$expand=Friends($select=FirstName,AddressInfo)\n")),Object(o.b)("p",null,"If no select is given, all non-navigational properties are included in the response."))}u.isMDXComponent=!0},76:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(2),r=n(6),o=(n(0),n(177)),s={},i={unversionedId:"js/features/odata/v4/filter-one-to-many",id:"js/features/odata/v4/filter-one-to-many",isDocsHomePage:!1,title:"filter-one-to-many",description:"OData V4 introduces lambda operators e.g., any/all, so that the root property of the one-to-many navigation properties can be filtered.",source:"@site/docs/js/features/odata/v4/filter-one-to-many.mdx",slug:"/js/features/odata/v4/filter-one-to-many",permalink:"/cloud-sdk/docs/js/features/odata/v4/filter-one-to-many",editUrl:"https://github.com/SAP/cloud-sdk/edit/documentation/docs/js/features/odata/v4/filter-one-to-many.mdx",version:"current",lastUpdatedBy:"Frank Essenberger",lastUpdatedAt:1601906093},c=[],d={rightToc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"OData V4 introduces ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"http://docs.oasis-open.org/odata/odata/v4.01/odata-v4.01-part2-url-conventions.html#sec_LambdaOperators"}),"lambda operators")," e.g., ",Object(o.b)("inlineCode",{parentName:"p"},"any"),"/",Object(o.b)("inlineCode",{parentName:"p"},"all"),", so that the root property of the one-to-many navigation properties can be filtered.\nBelow is an example that demonstrates how to use the lambda operator ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"pathname:///api/1.28.1/modules/sap_cloud_sdk_core#any"}),"any"),"."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"/*\n  Get all people that have at least one friend that matches all the following conditions:\n    - Has first name 'firstName'\n    - Has last name 'lastName'\n*/\n.filter(\n  any(\n    People.FRIENDS.filter(\n      People.FIRST_NAME.equals('firstName'),\n      People.LAST_NAME.equals('lastName')\n    )\n  )\n)\n")),Object(o.b)("p",null,"The generated ",Object(o.b)("inlineCode",{parentName:"p"},"$filter")," parameter of the URL will be:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sql"}),"$filter=(/any(a0:((a0/Friends/FirstName eq 'firstName' and a0/Friends/LastName eq 'lastName'))))\n")))}u.isMDXComponent=!0}}]);